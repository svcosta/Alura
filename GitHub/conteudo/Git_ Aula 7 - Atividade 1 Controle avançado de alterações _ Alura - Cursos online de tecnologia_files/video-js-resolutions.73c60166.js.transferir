function HDtoggle(a,b){function c(b){var c=$("#"+a),d=c.data(b);if(void 0!=d)return d;var e=c.find("source[data-res='"+b+"']");return void 0==e||void 0==e.attr("src")?null:e.attr("src")}function d(b,d){var e=c(b);null!=e&&(videojs(a).src([{type:"video/mp4",src:e}]),d&&videojs(a).play())}function e(){return c("hd")==videojs(a).src()}function f(){var a=null!=c("hd"),b=null!=c("sd");return a&&b}function g(a){var b=document.createElement("style");b.type="text/css",b.innerHTML="hd"==a?".vjs-control.vjs-HD-button { color: #36D8DE; font-weight:bold; text-shadow: 0 0 1em #fff;}":".vjs-control.vjs-HD-button { color: silver; font-weight:normal; text-shadow: 0 0 5em #fff;}",document.body.appendChild(b)}videojs.HD=videojs.Button.extend({init:function(a,b){videojs.Button.call(this,a,b),this.on("click",this.onClick)}});var h=function(){e()?(g("sd"),$.post("/user/profile/setMovieQuality",{quality:"sd"}),d("sd",!0)):(g("hd"),$.post("/user/profile/setMovieQuality",{quality:"hd"}),d("hd",!0))};videojs.HD.prototype.onClick=h;var i=function(){var a={className:"vjs-HD-button vjs-control",innerHTML:'<div class="vjs-control-content">HD</div>',role:"button","aria-live":"polite",tabIndex:0};return videojs.Component.prototype.createEl(null,a)};videojs.plugin("HD",function(){if(f()){d(b,!1),g(b);var a={el:i()},c=new videojs.HD(this,a);this.controlBar.el().appendChild(c.el())}})}